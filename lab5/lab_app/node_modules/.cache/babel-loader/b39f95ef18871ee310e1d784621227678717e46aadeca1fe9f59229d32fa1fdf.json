{"ast":null,"code":"var _jsxFileName = \"/Users/a1111/Study/6 sem/web/labs/labsWeb2semac/lab5/practicum_React/src/components/Filter.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n/*\n   компонент, для фильтрации таблицы\n   пропсы:\n      fullData - исходные данные\n      filtering - функция обновления данных таблицы\n      resetPage - функция сброса текущей страницы к первой\n*/\nconst Filter = props => {\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.target;\n\n    // формируем критерии\n    const filterField = {\n      \"Название\": form[\"structure\"].value.toLowerCase(),\n      \"Тип\": form[\"type\"].value.toLowerCase(),\n      \"Страна\": form[\"country\"].value.toLowerCase(),\n      \"Город\": form[\"city\"].value.toLowerCase(),\n      \"Год\": [form[\"yearMin\"].value, form[\"yearMax\"].value],\n      \"Высота\": [form[\"heightMin\"].value, form[\"heightMax\"].value]\n    };\n    let arr = props.fullData;\n\n    // строковые поля\n    [\"Название\", \"Тип\", \"Страна\", \"Город\"].forEach(key => {\n      if (filterField[key]) {\n        arr = arr.filter(item => item[key].toString().toLowerCase().includes(filterField[key]));\n      }\n    });\n\n    // числовые интервалы\n    [[\"Год\", \"year\"], [\"Высота\", \"height\"]].forEach(([key, label]) => {\n      const [min, max] = filterField[key];\n      if (min !== \"\" || max !== \"\") {\n        arr = arr.filter(item => {\n          const val = Number(item[key]);\n          const minOk = min === \"\" ? true : val >= Number(min);\n          const maxOk = max === \"\" ? true : val <= Number(max);\n          return minOk && maxOk;\n        });\n      }\n    });\n    props.filtering(arr);\n    props.resetPage();\n  };\n  const handleReset = () => {\n    props.filtering(props.fullData);\n    props.resetPage();\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"filter-container\",\n    onSubmit: handleSubmit,\n    onReset: handleReset,\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"structure\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0422\\u0438\\u043F:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"type\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"country\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0413\\u043E\\u0440\\u043E\\u0434:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"city\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0413\\u043E\\u0434 (\\u043E\\u0442/\\u0434\\u043E):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"yearMin\",\n        type: \"number\",\n        style: {\n          width: '80px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), \" \\u2013\", /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"yearMax\",\n        type: \"number\",\n        style: {\n          width: '80px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0412\\u044B\\u0441\\u043E\\u0442\\u0430 (\\u043E\\u0442/\\u0434\\u043E):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"heightMin\",\n        type: \"number\",\n        style: {\n          width: '80px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), \" \\u2013\", /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"heightMax\",\n        type: \"number\",\n        style: {\n          width: '80px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"reset\",\n        children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_c = Filter;\nexport default Filter;\nvar _c;\n$RefreshReg$(_c, \"Filter\");","map":{"version":3,"names":["Filter","props","handleSubmit","event","preventDefault","form","target","filterField","value","toLowerCase","arr","fullData","forEach","key","filter","item","toString","includes","label","min","max","val","Number","minOk","maxOk","filtering","resetPage","handleReset","_jsxDEV","className","onSubmit","onReset","children","fileName","_jsxFileName","lineNumber","columnNumber","name","type","style","width","_c","$RefreshReg$"],"sources":["/Users/a1111/Study/6 sem/web/labs/labsWeb2semac/lab5/practicum_React/src/components/Filter.js"],"sourcesContent":["/*\n   компонент, для фильтрации таблицы\n   пропсы:\n      fullData - исходные данные\n      filtering - функция обновления данных таблицы\n      resetPage - функция сброса текущей страницы к первой\n*/\nconst Filter = (props) => {\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        const form = event.target;\n\n        // формируем критерии\n        const filterField = {\n            \"Название\": form[\"structure\"].value.toLowerCase(),\n            \"Тип\": form[\"type\"].value.toLowerCase(),\n            \"Страна\": form[\"country\"].value.toLowerCase(),\n            \"Город\": form[\"city\"].value.toLowerCase(),\n            \"Год\": [form[\"yearMin\"].value, form[\"yearMax\"].value],\n            \"Высота\": [form[\"heightMin\"].value, form[\"heightMax\"].value]\n        };\n\n        let arr = props.fullData;\n\n        // строковые поля\n        [\"Название\",\"Тип\",\"Страна\",\"Город\"].forEach(key=>{\n            if(filterField[key]) {\n               arr = arr.filter(item=> item[key].toString().toLowerCase().includes(filterField[key]));\n            }\n        });\n\n        // числовые интервалы\n        [[\"Год\",\"year\"],[\"Высота\",\"height\"]].forEach(([key,label])=>{\n            const [min,max]=filterField[key];\n            if(min !== \"\" || max !== \"\") {\n               arr = arr.filter(item=>{\n                   const val = Number(item[key]);\n                   const minOk = (min === \"\") ? true : val >= Number(min);\n                   const maxOk = (max === \"\") ? true : val <= Number(max);\n                   return minOk && maxOk;\n               });\n            }\n        });\n\n        props.filtering(arr);\n        props.resetPage();\n    };\n\n    const handleReset = () => {\n        props.filtering(props.fullData);\n        props.resetPage();\n    };\n\n    return (\n        <form className=\"filter-container\" onSubmit={handleSubmit} onReset={handleReset}>\n            <p>\n                <label>Название:</label>\n                <input name=\"structure\" type=\"text\" />\n            </p>\n            <p>\n                <label>Тип:</label>\n                <input name=\"type\" type=\"text\" />\n            </p>\n            <p>\n                <label>Страна:</label>\n                <input name=\"country\" type=\"text\" />\n            </p>\n            <p>\n                <label>Город:</label>\n                <input name=\"city\" type=\"text\" />\n            </p>\n            <p>\n                <label>Год (от/до):</label>\n                <input name=\"yearMin\" type=\"number\" style={{width:'80px'}} /> –\n                <input name=\"yearMax\" type=\"number\" style={{width:'80px'}} />\n            </p>\n            <p>\n                <label>Высота (от/до):</label>\n                <input name=\"heightMin\" type=\"number\" style={{width:'80px'}} /> –\n                <input name=\"heightMax\" type=\"number\" style={{width:'80px'}} />\n            </p>\n            <p>\n                <button type=\"submit\">Фильтровать</button>\n                <button type=\"reset\">Очистить</button>\n            </p>\n        </form>\n    );\n};\n\nexport default Filter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}